<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>一种 http 1.1 转 gRPC 调用的网关 | zhibocai</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcdn.net/ajax/libs/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcdn.net/ajax/libs/pure/2.1.0/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcdn.net/ajax/libs/pure/2.1.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.6.1/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="stylesheet" href="//cdn.bootcdn.net/ajax/libs/toastr.js/2.1.4/toastr.min.css"><script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/toastr.js/2.1.4/toastr.min.js"></script><script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><meta name="generator" content="Hexo 6.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">一种 http 1.1 转 gRPC 调用的网关</h1><a id="logo" href="/.">zhibocai</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">一种 http 1.1 转 gRPC 调用的网关</h1><div class="post-meta">2022-09-19<span> | </span><span class="category"><a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="post-content"><p>因为项目中需要对接多个 gRPC 微服务, 但 gRPC 写得太烦了, 不像 http 提供方法(method), 路径(path), 数据(data) 即可:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> grpc</span><br><span class="line"><span class="comment"># 需要导入对应的模块</span></span><br><span class="line"><span class="keyword">import</span> helloworld_pb2</span><br><span class="line"><span class="keyword">import</span> helloworld_pb2_grpc</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> grpc.insecure_channel(<span class="string">&#x27;localhost:50051&#x27;</span>) <span class="keyword">as</span> channel:</span><br><span class="line">	<span class="comment"># 创建 stub, 实际上就是 client</span></span><br><span class="line">	stub = helloworld_pb2_grpc.GreeterStub(channel)</span><br><span class="line">	<span class="comment"># 创建输入对象</span></span><br><span class="line">	request = helloworld_pb2.HelloRequest(name=<span class="string">&#x27;you&#x27;</span>)</span><br><span class="line">	<span class="comment"># 调用并返回输出</span></span><br><span class="line">	response = stub.SayHello(request)</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;Greeter client received: &quot;</span> + response.message)</span><br></pre></td></tr></table></figure>
<p>所以整了一个网关组件, 使用一种通用化的 http 调用方式自动的转成 gRPC 调用.</p>
<h2 id="开源方案">开源方案</h2>
<p>在这之前, 调研过两个开源组件:</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>envoy: 从它的文档上看 <a target="_blank" rel="noopener" href="https://cloudnative.to/envoy/configuration/http/http_filters/grpc_json_transcoder_filter.html">gRPC-JSON 转码器</a>, 每个 gRPC 调用都需要逐一配置, 成本太高, 不合适</p>
</li>
<li class="lvl-2">
<p>grpc-gateway(go):  这个东西看起来满足, 但是不够通用化.</p>
<ul class="lvl-2">
<li class="lvl-6">需要 go 的技术栈, 需要 proto 指定 <strong>go_package</strong>, 如果是别的语言的 proto 就必须自己添加</li>
<li class="lvl-6">会额外生成一些代码</li>
<li class="lvl-6">附带的转 restful 风格没多大用处, 不能成为加分项</li>
</ul>
</li>
</ul>
<blockquote>
<p>我认为这种网关最需要的就是简单化, 把 gRPC 的 proto 丢到指定的目录里, 什么都不用做就能用, 才做到开箱</p>
</blockquote>
<h2 id="自研组件">自研组件</h2>
<p>我认为对于 proto 不需要额外添加 option 的 python 版本, 最适合做这种通用网关, 而且 python 的动态性, 比较容易做动态加载和动态更新.</p>
<p>主要问题是如何把 http 调用映射到 gRPC 调用上:</p>
<table>
<thead>
<tr>
<th></th>
<th>http</th>
<th>gRPC</th>
</tr>
</thead>
<tbody>
<tr>
<td>method</td>
<td>http 使用 GET / POST / … 作为方法</td>
<td>gRPC 是 proto 定义的方法名</td>
</tr>
<tr>
<td>path</td>
<td>http 使用 /path/to 作为请求路径</td>
<td>gRPC 是 package.Service</td>
</tr>
<tr>
<td>data</td>
<td>http 可使用 json 传输数据</td>
<td>gRPC 是 protocol buffers</td>
</tr>
</tbody>
</table>
<p>这里设计了一套转换规则: <strong>统一使用 POST 请求, 路径由 proto 的 Service  + Method 组成, 数据使用 json, 到达网关后, 由网关根据 proto 对应的 input type + json data 创建出 gRPC 需要的入参</strong></p>
<p>实现:</p>
<ol>
<li class="lvl-3">
<p>编译 .proto 文件, 会得到 xxx_pb2.py 以及 xxx_pb2_grpc.py 文件</p>
</li>
<li class="lvl-3">
<p>导入模块, 通过代码 pb2 模块中 DESCRIPTOR , 分析 proto 包含的 Service 和 Method</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> importlib</span><br><span class="line"></span><br><span class="line">protos = &#123;&#125;</span><br><span class="line"></span><br><span class="line">services = &#123;&#125;</span><br><span class="line"></span><br><span class="line">packages = &#123;&#125;</span><br><span class="line"></span><br><span class="line">package_namespaces = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">setup</span>(<span class="params">proto_dir: <span class="built_in">str</span> = <span class="literal">None</span></span>):</span><br><span class="line">    proto_dir = proto_dir <span class="keyword">or</span> settings.proto_dir</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 安装 sys.path, 下面需要预导入 pb 模块</span></span><br><span class="line">    sys.path.append(proto_dir)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将每个服务的 proto 分别放置 proto_dir 的子目录下, 都是以一个 package 方式导入</span></span><br><span class="line">    <span class="keyword">for</span> package <span class="keyword">in</span> os.listdir(proto_dir):</span><br><span class="line">        <span class="keyword">if</span> package.startswith(<span class="string">&#x27;_&#x27;</span>):</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        package_dir = os.path.abspath(os.path.join(proto_dir, package))</span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(package_dir):</span><br><span class="line">            package_services = &#123;&#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> filename <span class="keyword">in</span> os.listdir(package_dir):</span><br><span class="line">                <span class="keyword">if</span> filename.endswith(<span class="string">&#x27;.proto&#x27;</span>):</span><br><span class="line">                    <span class="comment"># 导入 xxx_pb2 和 xxx_pb2_grpc 模块, 并保存引用</span></span><br><span class="line">                    proto_module, service_module = import_proto_module(package, os.path.splitext(filename)[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">                    <span class="comment"># 利用 DESCRIPTOR 可以查找 service 的全路径名, 方法, 以及入参出参的类型</span></span><br><span class="line">                    proto_descriptor = proto_module.DESCRIPTOR</span><br><span class="line">                    protos[proto_descriptor.name] = (proto_module, service_module)</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">for</span> service_descriptor <span class="keyword">in</span> proto_descriptor.services_by_name.values():</span><br><span class="line"></span><br><span class="line">                        package_services[service_descriptor.full_name] = service_descriptor</span><br><span class="line">                        package_namespaces[service_descriptor.full_name] = package</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment"># cache packages service</span></span><br><span class="line">            packages[package] = package_services</span><br><span class="line">            <span class="comment"># cache global service</span></span><br><span class="line">            services.update(package_services)</span><br></pre></td></tr></table></figure>
<ol start="3">
<li class="lvl-3">
<p>客户端</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> google.protobuf.json_format <span class="keyword">import</span> MessageToDict</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Resolver</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, service_descriptor, method_descriptor</span>):</span><br><span class="line">        self.service_descriptor = service_descriptor</span><br><span class="line">        self.method_descriptor = method_descriptor</span><br><span class="line"></span><br><span class="line">    @<span class="built_in">property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">service_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.service_descriptor.name</span><br><span class="line"></span><br><span class="line">    @<span class="built_in">property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">service_file_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.service_descriptor.file.name</span><br><span class="line"></span><br><span class="line">    @<span class="built_in">property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">service_method_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.method_descriptor.name</span><br><span class="line"></span><br><span class="line">    @<span class="built_in">property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">service_stub_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;<span class="subst">&#123;self.service_descriptor.name&#125;</span>Stub&#x27;</span></span><br><span class="line"></span><br><span class="line">    @<span class="built_in">property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">service_stub</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        获得 Stub 类型, 通过 descriptor 在对应的 service 模块中反查</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># protos 记录了 proro 文件对应的 (proto 模块, service 模块)</span></span><br><span class="line">        <span class="comment"># stub 从 service 模块获得</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">getattr</span>(protos[self.service_file_name][<span class="number">1</span>], self.service_stub_name)</span><br><span class="line"></span><br><span class="line">    @<span class="built_in">property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">input_type</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        获得输入类型, 通过 descriptor 在 db._classes 反查</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> db._classes[self.method_descriptor.input_type]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_service_method</span>(<span class="params">self, channel</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        获得对应的服务方法 Callable</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        stub = self.service_stub(channel)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">getattr</span>(stub, self.service_method_name)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_service_input</span>(<span class="params">self, data</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        获得对应的服务入参实例</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">return</span> self.input_type(**data)</span><br><span class="line">        <span class="keyword">except</span> (TypeError, ValueError) <span class="keyword">as</span> exc:</span><br><span class="line">            <span class="comment"># 传入错误的类型, 缺少/未知字段, 会抛出 TypeError, ValueError</span></span><br><span class="line">            <span class="keyword">raise</span> SchemaError(<span class="built_in">str</span>(exc))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Client</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, endpoint</span>):</span><br><span class="line">        self.endpoint = endpoint</span><br><span class="line">        self._channel = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">channel</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        return a grpc aio channel</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> self._channel <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            self._channel = grpc.insecure_channel(self.endpoint, options=[</span><br><span class="line">                                (<span class="string">&#x27;grpc.max_send_message_length&#x27;</span>, settings.grpc_max_message_length),</span><br><span class="line">                                (<span class="string">&#x27;grpc.max_receive_message_length&#x27;</span>, settings.grpc_max_message_length),</span><br><span class="line">                            ])</span><br><span class="line">        <span class="keyword">return</span> self._channel</span><br><span class="line"></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">invoke</span>(<span class="params">self, ervice: <span class="built_in">str</span>, method: <span class="built_in">str</span>, data: <span class="built_in">dict</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">	    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">	    调用 gRPC</span></span><br><span class="line"><span class="string">	    &quot;&quot;&quot;</span></span><br><span class="line">	    channel = self.channel()       </span><br><span class="line">	    resolver = resolve(service, method)</span><br><span class="line">	    <span class="built_in">input</span> = resolver.get_service_input(data)</span><br><span class="line">	    method = resolver.get_service_method(channel)</span><br><span class="line">	    message = method(<span class="built_in">input</span>, timeout=timeout)</span><br><span class="line">	    <span class="keyword">return</span> MessageToDict(message)</span><br></pre></td></tr></table></figure>
<ol start="4">
<li class="lvl-3">
<p>调用, 只需要传入 proto 完整的 Service + Method 就可以了</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">client = Client(endpoint)    </span><br><span class="line"><span class="comment"># call rpc method</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">await</span> client.invoke(service, method, data)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>总的来说效果不错, 基本实现了只要丢 proto 就可以跑(需要跑一下编译生成 pb 模块), 之后利用 asyncio 优化请求性能, 额外增加了重试 / 在线文档.</p>
</blockquote>
</div><div class="tags"><a href="/tags/gRPC"><i class="fa fa-tag">gRPC</i></a></div><div class="post-nav"><a class="next" href="/2022/09/15/splatoon-draw.html">喷喷3 自动涂鸦工具</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="/img/avatar.jpg"/></a><p>东八区程序员一枚</p><a class="info-icon" href="mailto:zain.cai@gmail.com" title="Email" target="_blank" style="margin-inline:5px"><i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/zhibocai" title="Github" target="_blank" style="margin-inline:5px"><i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"><i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B8%B8%E6%88%8F/">游戏</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/gRPC/" style="font-size: 15px;">gRPC</a> <a href="/tags/Splatoon/" style="font-size: 15px;">Splatoon</a> <a href="/tags/Django/" style="font-size: 15px;">Django</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022/09/19/http-to-grpc.html">一种 http 1.1 转 gRPC 调用的网关</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/09/15/splatoon-draw.html">喷喷3 自动涂鸦工具</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/09/02/pb-encoding-2.html">protocol buffers 编码规则(二)</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/09/01/pb-encoding-1.html">protocol buffers 编码规则(一)</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/09/django-project.html">Django 项目结构</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/05/django-install.html">Django 开发环境搭建</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2022 <a href="/about/" rel="nofollow">zhibocai.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>